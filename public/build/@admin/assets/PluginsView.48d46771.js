import{_ as f,W as y}from"./app.f6b791b5.js";import{_ as g}from"./LoadingModal.a415cab1.js";import{e,f as a,F as d,i as _,A as s,D as l,x as p,z as x,g as u,C as b,Q as k,s as v,v as C}from"./@vue.ca773235.js";import{w as $}from"./pageSidebar.9e81cee6.js";import"./vue.9ea8e8a6.js";import"./vuex.497f08d2.js";import"./overlayscrollbars.8d928870.js";import"./apexcharts.8dc8f2aa.js";import"./string-similarity.860833b6.js";import"./gsap.8449ad8c.js";import"./vue-router.63e2ccab.js";import"./vuex-persistedstate.fa252374.js";import"./izitoast.765d8918.js";import"./click-outside-vue3.6791b41e.js";import"./floating-vue.8db45bbf.js";import"./@floating-ui.9bdab495.js";import"./axios.ea6880df.js";import"./@vuepic.b319e7e5.js";import"./date-fns.5b6f9246.js";import"./LoaderAnimation.f430cb8d.js";const R={props:{data:{type:Array},marketplace:{type:Boolean,default:!1}},methods:{installPlugin(o){g.methods.open().then(m=>{window.axios.post("/admin/plugins/toggle",{id:o}).then(()=>{m(),setTimeout(()=>{window.location.reload()},1e3)})})}},components:{WebIcon:y}},P={class:"searchResults"},V={class:"searchResultContent"},B=["alt","src"],S={class:"title"},T={class:"version"},D={class:"description"},E={class:"searchResultContent"},I=["alt","src"],N={class:"title"},U={class:"version"},z={class:"description"},A=["onClick"];function F(o,m,r,w,i,h){const c=k("web-icon");return e(),a("div",P,[r.marketplace?(e(!0),a(d,{key:1},_(r.data,t=>(e(),a("div",{class:p(["searchResult",t.isEnabled?"":"noZoom"]),key:t.id},[s("div",E,[s("img",{alt:t.id,src:t.logoUrl,width:"85"},null,8,I),s("div",N,l(t.name),1),s("div",U,l(t.version),1),s("div",z,[(e(!0),a(d,null,_(t.description,n=>(e(),a("div",{key:n},l(n),1))),128))]),s("button",{class:p(["btn",[o.$isDemo?"demoDisable":"",t.isEnabled?"":"btn-primary"]]),onClick:x(n=>h.installPlugin(t.id),["stop"])},[t.isEnabled?(e(),a(d,{key:0},[u(c,{icon:"fal fa-download"}),b(" Uninstall ")],64)):(e(),a(d,{key:1},[u(c,{icon:"fal fa-download"}),b(" Install ")],64))],10,A)])],2))),128)):(e(!0),a(d,{key:0},_(r.data,t=>(e(),a("div",{class:"searchResult",key:t.id},[s("div",V,[s("img",{alt:t.id,src:t.logoUrl,width:"85"},null,8,B),s("div",S,l(t.name),1),s("div",T,l(t.version),1),s("div",D,[(e(!0),a(d,null,_(t.description,n=>(e(),a("div",{key:n},l(n),1))),128))])])]))),128))])}const M=f(R,[["render",F],["__scopeId","data-v-dbc11eef"]]);const W={data(){return{tab:"all",data:null}},watch:{tab(){this.data=null,this.loadTab()},data(){this.$bus.$emit("loading:done")}},methods:{loadTab(){switch(this.tab){case"installed":window.axios.post("/admin/plugins/installed").then(({data:o})=>this.data=o);break;case"all":window.axios.post("/admin/plugins/all").then(({data:o})=>this.data=o);break}}},mounted(){this.$bus.$on("pluginsSidebar:select",o=>{this.tab=o}),$(()=>{this.loadTab()})},components:{PluginSearchResult:M}},L={class:"pluginMarketplace"},Q={class:"marketContainer animate"},Z={class:"content"};function j(o,m,r,w,i,h){const c=k("plugin-search-result");return e(),a("div",L,[s("div",Q,[s("div",Z,[i.tab==="all"||i.tab==="recommended"&&i.data?(e(),v(c,{key:0,data:i.data,class:"animate-sm",marketplace:!0},null,8,["data"])):i.tab==="installed"&&i.data?(e(),v(c,{key:1,data:i.data,class:"animate-sm"},null,8,["data"])):C("",!0)])])])}const mt=f(W,[["render",j],["__scopeId","data-v-b9300b77"]]);export{mt as default};
