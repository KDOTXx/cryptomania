import{D as b}from"./DashboardWarning.95ccc3d6.js";import{_ as x,W as g}from"./app.f6b791b5.js";import{f as s,F as r,g as h,j as w,I as D,a4 as V,A as e,v as f,C as n,D as _,i as y,Q as k,e as i,N as C,O as W}from"./@vue.ca773235.js";import"./vue.9ea8e8a6.js";import"./vuex.497f08d2.js";import"./overlayscrollbars.8d928870.js";import"./apexcharts.8dc8f2aa.js";import"./string-similarity.860833b6.js";import"./gsap.8449ad8c.js";import"./vue-router.63e2ccab.js";import"./vuex-persistedstate.fa252374.js";import"./izitoast.765d8918.js";import"./click-outside-vue3.6791b41e.js";import"./floating-vue.8db45bbf.js";import"./@floating-ui.9bdab495.js";import"./axios.ea6880df.js";import"./@vuepic.b319e7e5.js";import"./date-fns.5b6f9246.js";const I={data(){return{license:null,status:null,key:""}},methods:{refreshCache(){window.axios.post("/admin/license/refresh").then(()=>window.location.reload())},unlink(){confirm("Are you sure? This website will not work without a valid license.")&&window.axios.post("/admin/license/setKey",{key:"-",ip:"-"}).then(()=>{this.$store.dispatch("setLicense",{isValid:!1}),window.location.reload()})},viewWhitelist(){let a="";this.license.info.whitelist.forEach(t=>a+=t+`
`),alert(`Websites using this license:

`+a)}},watch:{key(){this.status=2,window.axios.post("/admin/serverIp").then(({data:a})=>{window.axios.post("https://phoenix-gambling.com/license/installerVerify",{key:this.key,ip:a}).then(()=>{this.status=1,window.axios.post("/admin/license/setKey",{key:this.key,ip:a}).then(()=>{window.axios.post("/license").then(({data:t})=>{this.$store.dispatch("setLicense",t),window.location.reload()})})}).catch(t=>{const m=t.response.data.error.code;m===1?this.status=0:m===2&&(this.status=3)})})}},created(){window.axios.post("/admin/license/info").then(({data:a})=>{this.license=a,this.$bus.$emit("loading:done")})},components:{WebIcon:g,DashboardWarning:b}},l=a=>(C("data-v-046f381b"),a=a(),W(),a),L={key:0,class:"license animate"},T=l(()=>e("div",{class:"smDescription"},[e("a",{href:"https://phoenix-gambling.com",target:"_blank"},"Visit Phoenix Gambling website"),n(" or "),e("a",{href:"https://t.me/casino_sales",target:"_blank"},"contact us"),n(" to purchase this casino software.")],-1)),N=l(()=>e("div",{class:"smDescription"},[n("Don't have a license? "),e("a",{href:"https://t.me/casino_sales",target:"_blank"},"Contact Phoenix Gambling")],-1)),P={key:0,class:"status"},S=l(()=>e("div",{class:"icon"},"\u274C",-1)),A=l(()=>e("div",{class:"text"},"This license is not valid",-1)),B=[S,A],O={key:1,class:"status"},Y=l(()=>e("div",{class:"icon"},"\u2705",-1)),E=l(()=>e("div",{class:"text"},"This license is valid. Activating...",-1)),F=[Y,E],j={key:2,class:"status"},G=l(()=>e("div",{class:"icon"},"\u231B",-1)),K=l(()=>e("div",{class:"text"},"Verifying license key...",-1)),R=[G,K],U={key:3,class:"status"},q=l(()=>e("div",{class:"icon"},"\u26A0\uFE0F",-1)),M=l(()=>e("div",{class:"text"},[n(" You've exceeded website limit for your license. "),e("br"),n(" Extend your license or remove existing website. ")],-1)),Q=[q,M],z={class:"verified"},H=l(()=>e("div",{class:"verifiedDesc"}," Your license is valid. ",-1)),J={class:"verifiedDesc2"},X=l(()=>e("div",{class:"apTitle"},"Available products",-1)),Z={class:"availableProducts"},$={class:"name"},ee={key:0,class:"price"},se={key:1,class:"purchased"},ie={class:"description"},te={class:"unlink"};function oe(a,t,m,ne,c,d){const v=k("dashboard-warning"),p=k("web-icon");return c.license?(i(),s("div",L,[a.$isDemo?(i(),s(r,{key:0},[h(v,{type:"info"},{default:w(()=>[n(" You are viewing a demo website. ")]),_:1}),T],64)):c.license.isValid?(i(),s(r,{key:2},[e("div",z,[h(p,{icon:"fas fa-fw fa-badge-check"})]),H,e("div",J,[n(" License for "+_(c.license.info.maxWebsites)+" website(s) (",1),e("a",{href:"javascript:void(0)",onClick:t[1]||(t[1]=(...o)=>d.viewWhitelist&&d.viewWhitelist(...o))},_(c.license.info.whitelist.length)+" used",1),n("). ")]),X,e("div",Z,[(i(!0),s(r,null,y(c.license.phoenixFeatures,o=>(i(),s("div",{class:"products",key:o.id},[e("div",$,_(o.name),1),c.license.info.features.filter(u=>u.id===o.id)[0]?(i(),s("div",se,[h(p,{icon:"fas fa-fw fa-badge-check"}),n(" Purchased ")])):(i(),s("div",ee,[n("$"+_(o.priceUSD)+" ",1),o.canBePurchasedOnlyOnce?(i(),s(r,{key:0},[n("(Once)")],64)):f("",!0)])),e("div",ie,[(i(!0),s(r,null,y(o.description,u=>(i(),s("div",{class:"line",key:u},_(u),1))),128))])]))),128))]),e("div",te,[e("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=(...o)=>d.refreshCache&&d.refreshCache(...o))},[h(p,{icon:"fal fa-fw fa-sync"}),n(" Refresh")]),e("button",{class:"btn",onClick:t[3]||(t[3]=(...o)=>d.unlink&&d.unlink(...o))},[h(p,{icon:"fal fa-fw fa-times"}),n(" Remove license")])])],64)):(i(),s(r,{key:1},[h(v,{type:"critical"},{default:w(()=>[n(" You have to acquire a license to use this software. ")]),_:1}),N,D(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>c.key=o),placeholder:"License key"},null,512),[[V,c.key]]),c.status!==null?(i(),s(r,{key:0},[c.status===0?(i(),s("div",P,B)):c.status===1?(i(),s("div",O,F)):c.status===2?(i(),s("div",j,R)):c.status===3?(i(),s("div",U,Q)):f("",!0)],64)):f("",!0)],64))])):f("",!0)}const De=x(I,[["render",oe],["__scopeId","data-v-046f381b"]]);export{De as default};
