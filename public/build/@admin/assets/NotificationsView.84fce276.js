import{O as u}from"./overlayscrollbars.8d928870.js";import{_ as h,W as b}from"./app.f6b791b5.js";import{f as i,A as n,v as a,F as p,C as d,i as v,x as f,g as m,e as s,I as w,N as k,O as y,Q as g,a3 as x}from"./@vue.ca773235.js";import"./apexcharts.8dc8f2aa.js";import"./vue.9ea8e8a6.js";import"./vuex.497f08d2.js";import"./string-similarity.860833b6.js";import"./gsap.8449ad8c.js";import"./vue-router.63e2ccab.js";import"./vuex-persistedstate.fa252374.js";import"./izitoast.765d8918.js";import"./click-outside-vue3.6791b41e.js";import"./floating-vue.8db45bbf.js";import"./@floating-ui.9bdab495.js";import"./axios.ea6880df.js";import"./@vuepic.b319e7e5.js";import"./date-fns.5b6f9246.js";const N={data(){return{notifications:null}},methods:{remove(e){window.axios.post("/admin/notifications/global_remove",{id:e}).then(()=>this.load())},sendGlobal(){const e=prompt("Notification text:");if(!e)return;const t=prompt("Notification icon:","fal fa-fw fa-exclamation-triangle");!t||window.axios.post("/admin/notifications/global",{icon:t,text:e}).then(()=>this.load())},load(e=!1){window.axios.post("/admin/notifications/data").then(({data:t})=>{this.notifications=t,e&&(this.$bus.$emit("loading:done"),this.$nextTick(()=>{u(document.querySelector(".notifications .entries"),{scrollbars:{autoHide:"leave"},className:"os-theme-thin-light"})}))})}},components:{WebIcon:b},created(){this.load(!0)}},C=e=>(k("data-v-bbf9ddf5"),e=e(),y(),e),D={key:0,class:"notifications animate"},$={class:"entries"},I={class:"h"},V=C(()=>n("div",null,"Text",-1)),S={key:0},T=["innerHTML"],B={key:0},G=["onClick"];function H(e,t,L,O,r,c){const l=g("web-icon"),_=x("tooltip");return r.notifications?(s(),i("div",D,[n("div",$,[n("div",I,[V,e.$permission.checkPermission("notifications","delete")?(s(),i("div",S,"Actions")):a("",!0)]),r.notifications.global.length===0?(s(),i(p,{key:0},[d(" No data to show. ")],64)):a("",!0),(s(!0),i(p,null,v(r.notifications.global,o=>(s(),i("div",{class:"entry",key:o},[n("div",null,[w(m(l,{icon:o.icon,style:{"margin-right":"10px"}},null,8,["icon"]),[[_,o.icon]]),n("div",{innerHTML:o.text},null,8,T)]),e.$permission.checkPermission("notifications","delete")?(s(),i("div",B,[n("button",{class:f(["btn btn-primary",e.$isDemo?"demoDisable":""]),onClick:P=>c.remove(o._id)},[m(l,{icon:"fal fa-fw fa-times"}),d(" Delete ")],10,G)])):a("",!0)]))),128))]),e.$permission.checkPermission("notifications","create")?(s(),i("button",{key:0,class:f(["btn btn-primary createBtn",e.$isDemo?"demoDisable":""]),onClick:t[0]||(t[0]=(...o)=>c.sendGlobal&&c.sendGlobal(...o))},[m(l,{icon:"fal fa-fw fa-plus"}),d(" Create")],2)):a("",!0)])):a("",!0)}const te=h(N,[["render",H],["__scopeId","data-v-bbf9ddf5"]]);export{te as default};
