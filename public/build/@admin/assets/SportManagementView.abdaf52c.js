import{D as S}from"./DashboardWarning.95ccc3d6.js";import{_ as D,W as P}from"./app.f6b791b5.js";import{O as N}from"./overlayscrollbars.8d928870.js";import{f as o,F as d,s as y,j as w,A as e,C as l,v as c,i as b,D as n,g as v,Q as C,e as a,x as _,N as F,O as I}from"./@vue.ca773235.js";import"./vue.9ea8e8a6.js";import"./vuex.497f08d2.js";import"./string-similarity.860833b6.js";import"./gsap.8449ad8c.js";import"./vue-router.63e2ccab.js";import"./vuex-persistedstate.fa252374.js";import"./izitoast.765d8918.js";import"./apexcharts.8dc8f2aa.js";import"./click-outside-vue3.6791b41e.js";import"./floating-vue.8db45bbf.js";import"./@floating-ui.9bdab495.js";import"./axios.ea6880df.js";import"./@vuepic.b319e7e5.js";import"./date-fns.5b6f9246.js";const M={data(){return{hasFeature:!1,bets:null,page:1,maxPages:null}},watch:{page(){this.load()}},methods:{set(t,r){window.axios.post("/admin/setSportManually",{id:t,status:r}).then(()=>window.location.reload())},sync(t){window.axios.post("/admin/sportVerify",{id:t}).then(({data:r})=>{r.result?window.location.reload():this.$toast.error("Game is not finished yet. Bet status was not changed.")})},load(){window.axios.post("/admin/sportBets").then(({data:t})=>{this.bets=t,this.maxPages=t.maxPages,this.$bus.$emit("loading:done"),this.$nextTick(()=>{N(document.querySelector(".sport .entries"),{scrollbars:{autoHide:"leave"},className:"os-theme-thin-light"})})})},jump(){const t=parseInt(prompt(`Enter page (from 1 to ${this.maxPages}):`));t&&!isNaN(t)&&t>=1&&t<=this.maxPages?this.page=t:alert("Invalid page: "+t)}},mounted(){this.hasFeature=window.$permission.isFeatureAvailable("phoenixSport"),this.hasFeature&&this.load()},components:{DashboardWarning:S,WebIcon:P}},x=t=>(F("data-v-a427b4d6"),t=t(),I(),t),V={class:"sport"},B=x(()=>e("a",{href:"https://t.me/casino_sales",target:"_blank",style:{"margin-left":"5px"}},"Contact Phoenix Gambling",-1)),W={key:0,class:"animate"},j={class:"entries"},G=x(()=>e("div",{class:"h"},[e("div",null,"Game ID"),e("div",null,"Game"),e("div",null,"Market"),e("div",null,"Runner"),e("div",null,"User"),e("div",null,"Date"),e("div",null,"Category"),e("div",null,"Payout"),e("div",null,"Manage")],-1)),L={class:"title"},O={class:"entry"},A=["onClick"],E=["src"],R=["onClick"],T=["onClick"],q=["onClick"],z=["onClick"],H={key:1,class:"pagination"},Q={class:"current"};function U(t,r,J,K,s,u){const f=C("dashboard-warning"),p=C("web-icon");return a(),o("div",V,[s.hasFeature?(a(),o(d,{key:1},[s.bets?(a(),o("div",W,[e("div",j,[G,s.bets.bets.length===0?(a(),o(d,{key:0},[l(" No data to show. ")],64)):c("",!0),(a(!0),o(d,null,b(s.bets.bets,(m,h)=>(a(),o("div",{key:h},[e("div",L,n(h.startsWith("multi|")?"Multi":"Single"),1),(a(!0),o(d,null,b(m,(i,k)=>(a(),o("div",{key:i.data._id},[e("div",O,[e("div",null,n(i.data.game_id),1),e("div",null,n(i.data.game),1),e("div",null,n(i.data.market),1),e("div",null,n(i.data.runner),1),e("div",{onClick:g=>t.$router.push("/admin/user/"+i.user._id)},[e("img",{alt:"",src:i.user.avatar},null,8,E),l(" "+n(i.user.name),1)],8,A),e("div",null,n(new Date(i.data.created_at).toLocaleString()),1),e("div",null,n(i.data.category),1),e("div",null,[k===0?(a(),o(d,{key:0},[l(n(i.data.bet.toFixed(8))+" "+n(i.data.currency)+" ",1),h.startsWith("multi|")?(a(),o(d,{key:0},[l("(Multi bet)")],64)):(a(),o(d,{key:1},[l("x"+n(i.data.odds),1)],64))],64)):c("",!0)]),e("div",null,[k===0?(a(),o(d,{key:0},[e("button",{class:_([t.$isDemo?"demoDisable":"","btn btn-primary mr-2"]),onClick:g=>u.sync(i.data._id)},[v(p,{icon:"fal fa-fw fa-sync"}),l(" Sync")],10,R),e("button",{class:_([t.$isDemo?"demoDisable":"","btn btn-danger mr-2"]),onClick:g=>u.set(i.data._id,"win")},[v(p,{icon:"fal fa-fw fa-check"}),l(" Set: Won")],10,T),e("button",{class:_([t.$isDemo?"demoDisable":"","btn btn-secondary"]),onClick:g=>u.set(i.data._id,"lose")},[v(p,{icon:"fal fa-fw fa-times"}),l(" Set: Lost")],10,q),e("button",{class:_([t.$isDemo?"demoDisable":"","btn btn-secondary"]),onClick:g=>u.set(i.data._id,"refund")},[v(p,{icon:"fal fa-fw fa-undo"}),l(" Refund")],10,z)],64)):c("",!0)])])]))),128))]))),128)),s.maxPages?(a(),o("div",H,[s.page-2>=1?(a(),o("div",{key:0,class:"prev",onClick:r[0]||(r[0]=m=>s.page-=2)},n(s.page-2),1)):c("",!0),s.page-1>=1?(a(),o("div",{key:1,class:"prev",onClick:r[1]||(r[1]=m=>s.page--)},n(s.page-1),1)):c("",!0),e("div",Q,n(s.page),1),s.page+1<=s.maxPages?(a(),o("div",{key:2,class:"next",onClick:r[2]||(r[2]=m=>s.page++)},n(s.page+1),1)):c("",!0),s.page+2<=s.maxPages?(a(),o("div",{key:3,class:"next",onClick:r[3]||(r[3]=m=>s.page+=2)},n(s.page+2),1)):c("",!0),e("div",{class:"jump",onClick:r[4]||(r[4]=(...m)=>u.jump&&u.jump(...m))},[v(p,{icon:"fal fa-fw fa-ellipsis-h"})])])):c("",!0)])])):c("",!0)],64)):(a(),o(d,{key:0},[t.$permission.checkPermission("*")?(a(),y(f,{key:0,type:"critical"},{default:w(()=>[l(" Sportsbook is not available for your license. "),B]),_:1})):(a(),y(f,{key:1,type:"warning"},{default:w(()=>[l(" Sportsbook is not available. Contact your system administrator for more information. ")]),_:1}))],64))])}const ve=D(M,[["render",U],["__scopeId","data-v-a427b4d6"]]);export{ve as default};
