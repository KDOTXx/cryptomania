import{D as C}from"./DashboardSwitch.dc169bb3.js";import{D as G}from"./DashboardWarning.95ccc3d6.js";import{_ as y}from"./app.f6b791b5.js";import{f as i,A as s,D as c,g as m,C as u,F as r,i as _,j as D,v as w,Q as b,e as o,N as k,O as M}from"./@vue.ca773235.js";import"./vue.9ea8e8a6.js";import"./vuex.497f08d2.js";import"./overlayscrollbars.8d928870.js";import"./apexcharts.8dc8f2aa.js";import"./string-similarity.860833b6.js";import"./gsap.8449ad8c.js";import"./vue-router.63e2ccab.js";import"./vuex-persistedstate.fa252374.js";import"./izitoast.765d8918.js";import"./click-outside-vue3.6791b41e.js";import"./floating-vue.8db45bbf.js";import"./@floating-ui.9bdab495.js";import"./axios.ea6880df.js";import"./@vuepic.b319e7e5.js";import"./date-fns.5b6f9246.js";const P={data(){return{games:null,modules:null,modulesIsDemo:!1,phoenixGamesData:null}},computed:{game(){return this.games.filter(e=>e.id===this.$route.params.id)[0]},isClassic(){return this.game.type==="Originals (Classic)"},isModernClassic(){return this.game.type==="Originals"}},methods:{setPGModuleValue(e,n,h){window.axios.post("/admin/phoenixGames/setFeatureValue/"+this.$route.params.id+"/"+e+"/"+n+"/"+h).catch(()=>this.$toast.error("Failed to change module value"))},togglePGModule(e){window.axios.post("/admin/phoenixGames/toggleFeature/"+this.$route.params.id+"/"+e).catch(()=>this.$toast.error("Failed to toggle module"))},setPGCallbackUrl(e){window.axios.post("/admin/phoenixGames/setCallbackUrl",{url:e}).catch(()=>this.$toast.error("Failed to change callback URL"))},togglePGBots(){window.axios.post("/admin/phoenixGames/toggleFakePresence").catch(()=>this.$toast.error("Failed to toggle bots"))},toggle(){window.axios.post("/admin/toggle",{name:this.game.id}).catch(()=>this.$toast.error("Failed to save"))},toggleVisibility(){window.axios.post("/admin/toggleVisibility",{name:this.game.id}).catch(()=>this.$toast.error("Failed to save"))},loadModules(e){window.axios.post("/admin/modules",{game:this.game.id,demo:e}).then(({data:n})=>{this.modulesIsDemo=e,this.modules=n})},changeOption(e,n,h){window.axios.post("/admin/option_value",{api_id:this.game.id,module_id:e,option_id:n,demo:this.modulesIsDemo,value:h})},toggleModule(e){const n=this.modules.filter(h=>h.id===e)[0];n.isEnabled=!n.isEnabled,window.axios.post("/admin/toggle_module",{api_id:this.game.id,module_id:e,demo:this.isDemo})},loadPhoenixGamesData(){window.axios.post("/admin/phoenixGames/info").then(({data:e})=>this.phoenixGamesData=e).catch(()=>{this.$isDemo||this.$toast.error("Failed to contact Phoenix Games server")})}},created(){window.axios.post("/api/data/games").then(({data:e})=>{this.games=e,this.$bus.$emit("loading:done"),this.isClassic?this.loadModules(!1):this.isModernClassic&&this.loadPhoenixGamesData()})},components:{DashboardSwitch:C,DashboardWarning:G}},v=e=>(k("data-v-c5b02cf4"),e=e(),M(),e),V={class:"game"},F={class:"pageTitle"},E={key:0,class:"animate"},I={class:"switch a"},L={class:"switch a"},N={class:"name"},S={class:"description"},T={class:"switch"},B={class:"settings"},U={class:"description"},H=["value","onChange"],O={class:"globalSetting"},R=v(()=>s("div",{class:"name"},"Callback URL",-1)),j=v(()=>s("div",{class:"description"},"Phoenix Games will send game results to this server:",-1)),A=["value"],Q={class:"globalSetting"},W=v(()=>s("div",{class:"name"},"Fake players",-1)),Y=v(()=>s("div",{class:"description"},"Multiplayer games will have fake players.",-1)),q={class:"name"},z=["innerHTML"],J={class:"switch"},K={class:"settings"},X={class:"name"},Z=["innerHTML"],$=["disabled","value","placeholder","onInput"];function ee(e,n,h,se,d,t){const g=b("dashboard-switch"),x=b("dashboard-warning");return o(),i("div",V,[s("div",F,c(d.games?t.game.name:"Game"),1),d.games?(o(),i("div",E,[s("div",I,[m(g,{value:!t.game.isDisabled,onChange:t.toggle},null,8,["value","onChange"]),u(" Enabled ")]),s("div",L,[m(g,{value:!t.game.isHidden,onChange:t.toggleVisibility},null,8,["value","onChange"]),u(" Visible ")]),t.isModernClassic?(o(),i(r,{key:0},[d.phoenixGamesData?(o(),i(r,{key:0},[(o(!0),i(r,null,_(d.phoenixGamesData.features[t.game.name],a=>(o(),i("div",{class:"module",key:a},[s("div",N,c(a.name),1),s("div",S,c(a.description),1),s("div",T,[m(g,{value:a.isEnabled,onChange:()=>t.togglePGModule(a.id)},null,8,["value","onChange"]),u(" Enabled ")]),s("div",B,[(o(!0),i(r,null,_(a.settings,(l,p)=>(o(),i("div",{class:"setting",key:p},[s("div",U,c(p),1),s("input",{type:"text",value:l,onChange:f=>t.setPGModuleValue(a.id,p,f.target.value)},null,40,H)]))),128))])]))),128)),s("div",O,[R,j,s("input",{type:"text",value:d.phoenixGamesData.callbackUrl,onChange:n[0]||(n[0]=a=>t.setPGCallbackUrl(a.target.value))},null,40,A)]),s("div",Q,[W,Y,m(g,{value:d.phoenixGamesData.fakePresence,onChange:()=>t.togglePGBots()},null,8,["value","onChange"])])],64)):(o(),i(r,{key:1},[u(c(e.$isDemo?"You can't edit game settings on the demo version.":"Contacting Phoenix Games server..."),1)],64))],64)):t.isClassic&&d.modules?(o(),i(r,{key:1},[m(x,{type:"info"},{default:D(()=>[u(" This game uses fair RNG by default. By enabling any of the twisting modules below, you can override RNG results. ")]),_:1}),(o(!0),i(r,null,_(d.modules.filter(a=>a.supports),a=>(o(),i("div",{class:"module",key:a},[s("div",q,c(a.name),1),s("div",{class:"description",innerHTML:a.description},null,8,z),s("div",J,[m(g,{value:a.isEnabled,onChange:()=>t.toggleModule(a.id)},null,8,["value","onChange"]),u(" Enabled ")]),s("div",K,[(o(!0),i(r,null,_(a.settings,l=>(o(),i("div",{class:"setting",key:l},[s("div",X,c(l.name),1),s("div",{class:"description",innerHTML:l.description},null,8,Z),s("input",{disabled:!a.isEnabled,type:"text",value:l.value.length===0?l.defaultValue:l.value,placeholder:l.defaultValue,onInput:p=>t.changeOption(a.id,l.id,p.target.value)},null,40,$)]))),128))])]))),128))],64)):w("",!0)])):w("",!0)])}const fe=y(P,[["render",ee],["__scopeId","data-v-c5b02cf4"]]);export{fe as default};
