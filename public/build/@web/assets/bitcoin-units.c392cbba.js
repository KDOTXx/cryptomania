import{B as e}from"./big.js.5a739493.js";const c={btc:1,mbtc:1/1e3,bit:1/1e6,satoshi:1/1e8},h={btc:["bitcoin","bitcoins"],mbtc:["millibtc"],bit:["\u03BCbtc","microbtc"],satoshi:["sat","sats","satoshis"]},u={btc:{format:"{amount} BTC",fractionDigits:8},mbtc:{format:"{amount} mBTC",fractionDigits:5},bit:{format:"{amount} \u03BCBTC",fractionDigits:2},satoshi:{format:"{amount} satoshi",pluralize:!0,fractionDigits:0}},v=t=>{const i=t.toLowerCase(),s=Object.keys(h).find(o=>h[o].includes(i));if(s===void 0)throw new Error(`Unit '${t}' is not supported`);return s},b=t=>{const i=t.toLowerCase();return c[i]!==void 0?i:v(t)},r=t=>c[b(t)],_=(t,i)=>{u[t.toLowerCase()]=i},D=t=>u[b(t)],g=(t,i,s=null)=>{c[t.toLowerCase()]=i,u[t.toLowerCase()]=s!==null?s:{format:`{amount} ${t}`}},p=(t,i,s)=>{if(Number.isNaN(parseFloat(t))||!Number.isFinite(t))return 0;const o=e(t).times(r(i));return parseFloat(o.div(r(s)))};class w{constructor(i,s){this._value=i,this._unit=s}to(i){return this._value=p(this._value,this._unit,i),this._unit=i,this}value(){return this._value}format(){const i=D(this._unit),{format:s,fractionDigits:o,trailing:d}=i;let l={maximumFractionDigits:o};d&&(l={minimumFractionDigits:o});let a;if(o!==void 0){const f=e(10).pow(o);a=parseFloat(e(Math.floor(e(this._value).times(f))).div(f))}else a=this._value;let m=s.replace("{amount}",parseFloat(a).toLocaleString(void 0,l));return i.pluralize&&this._value!==1&&(m+="s"),m}toString(){return this._value.toString()}}const n=(t,i)=>new w(t,i);n.convert=p;n.setDisplay=_;n.setUnit=g;n.getUnit=r;n.setFiat=(t,i,s=null)=>{g(t,1/i,s)};export{n as b};
